!function(a){var b={init:function(b){var c,d,e,f=a.extend({defaultValue:"Выберите",wrap:a("body")},b),g=a(this),h=this.attr("id");this.css("display","none"),c=a("<div/>",{"class":"select-custom "+h}),d=a("<span/>",{text:f.defaultValue,"class":"default"}).appendTo(c),e=a("<div/>",{"class":"dropdown"}).appendTo(c),c.appendTo(f.wrap),this.find("option").each(function(b,c){a("<span/>",{text:a(c).val()}).appendTo(e)}),c.on("click",function(){return a(this).hasClass("update")?!1:void e.stop(!0,!1).fadeToggle("fast")}),a(document).on("click",function(b){a(b.target).hasClass("select-custom")||"default"==a(b.target).attr("class")||e.fadeOut("fast")}),c.find("span").not(".default").on("click",function(){g.val(a(this).html()),d.html(a(this).html()),g.trigger("change")})},update:function(){var b="."+this.attr("id"),c=a(this);a(b).addClass("update"),a(b).find(".dropdown span").remove(),this.find("option").each(function(c,d){a("<span/>",{text:a(d).val()}).appendTo(a(b).find(".dropdown"))}),a(b).find("span").not(".default").on("click",function(){c.val(a(this).html()),a(b).find(".default").html(a(this).html()),c.trigger("change")}),a(b).removeClass("update")}};a.fn.customSelect=function(c){return b[c]?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Метод "+c+" не существует в jQuery.customSelect"):b.init.apply(this,arguments)}}(jQuery);